<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carteirinha de Associado - ASSELM</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- html2canvas for downloading the card as image -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        /* --- NOVOS ESTILOS PARA O TAMANHO FÍSICO --- */
        .printable-card-size {
            /* Tamanho base em pixels para o download da imagem */
            width: 340px; 
            /* A altura será automática, definida pelo conteúdo */
        }


        /* Styles for print version */
        @media print {
            body {
                background-color: white;
            }
            .card-container-wrapper {
                margin: 0;
                padding: 0;
                box-shadow: none;
                height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .no-print {
                display: none !important;
            }
            .print-only {
                display: block !important;
            }
            .printable-card-size {
                /* Tamanho físico real para impressão (um pouco maior que cartão de crédito) */
                width: 9cm !important;
                height: 12cm !important;
            }
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen p-4">

    <!-- Digital Card (Visible on screen - TAMANHO GRANDE) -->
    <div class="card-container-wrapper no-print">
        <div class="bg-white rounded-2xl shadow-xl w-full max-w-sm overflow-hidden">
            <div class="bg-blue-900 p-5 text-white">
                <div class="flex items-center justify-between">
                    <a href="#" class="text-3xl font-bold text-white"><span class="text-red-500">AS</span>SELM</a>
                    <span class="text-sm font-semibold uppercase tracking-wider">Associado</span>
                </div>
            </div>
            <div class="p-6">
                <div class="flex flex-col items-center text-center">
                    <!-- FOTO DE PERFIL ATUALIZADA -->
                    <img src="https://apps.grupobhds.com/asselm/associados/alexsandra-santos/foto.png" crossorigin="anonymous" alt="Foto do Associado" class="w-32 h-32 rounded-full border-4 border-white -mt-16 shadow-lg object-cover">
                    <h1 class="text-2xl font-bold text-gray-800 mt-4">Alexsandra Ramos da Silva Santos</h1>
                    <div class="w-full text-left mt-6 space-y-3 text-gray-700">
                        <div class="flex justify-between border-b pb-2"><span class="font-semibold text-gray-500">Nascimento:</span><span class="font-medium">27/06/1996</span></div>
                        <div class="flex justify-between border-b pb-2"><span class="font-semibold text-gray-500">CPF:</span><span class="font-medium">101.613.***-62</span></div>
                        <div class="flex justify-between"><span class="font-semibold text-gray-500">Status:</span><span class="font-bold text-green-600">Ativo desde 2024</span></div>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 text-center p-3"><p class="text-xs text-gray-500">Associação de Empreendedores de Londrina e Região</p></div>
        </div>
    </div>
    
    <!-- Printable Card (Hidden on screen, TAMANHO DE CARTÃO) -->
    <div id="printable-card" class="hidden print-only bg-white printable-card-size rounded-2xl shadow-xl overflow-hidden">
        <div class="flex flex-col h-full">
            <!-- Front Side (Top) -->
            <div class="w-full h-1/2">
                <div class="bg-blue-900 p-5 text-white">
                    <div class="flex items-center justify-between">
                        <a href="#" class="text-2xl font-bold text-white"><span class="text-red-500">AS</span>SELM</a>
                        <span class="text-sm font-semibold uppercase tracking-wider">Associado</span>
                    </div>
                </div>
                <div class="p-4"> 
                    <div class="flex flex-col items-center text-center">
                        <!-- FOTO DE PERFIL ATUALIZADA -->
                        <img src="https://apps.grupobhds.com/asselm/associados/alexsandra-santos/foto.png" crossorigin="anonymous" alt="Foto do Associado" class="w-28 h-28 rounded-full border-4 border-white -mt-14 shadow-lg object-cover">
                        <h1 class="text-lg font-bold text-gray-800 mt-3">Alexsandra Ramos da Silva Santos</h1>
                        <div class="w-full text-left mt-3 space-y-1 text-xs text-gray-700">
                            <div class="flex justify-between border-b pb-3"><span class="font-semibold text-gray-500">Nascimento:</span><span class="font-medium">27/06/1996</span></div>
                            <div class="flex justify-between border-b pb-3"><span class="font-semibold text-gray-500">CPF:</span><span class="font-medium">101.613.***-62</span></div>
                            <div class="flex justify-between pt-1"><span class="font-semibold text-gray-500">Status:</span><span class="font-bold text-green-600">Ativo desde 2024</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Separator -->
            <div class="border-t border-dashed border-gray-200"></div>

            <!-- Back Side (Bottom) -->
            <div class="w-full h-1/2 p-4 flex flex-col items-center justify-center">
                <div class="text-center">
                    <!-- QR CODE ATUALIZADO -->
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=https://apps.grupobhds.com/asselm/associados/alexsandra-santos/index.html" alt="QR Code de Verificação" class="w-28 h-28 mx-auto">
                    <div class="bg-gray-50 text-center p-2 mt-2 rounded-b-xl">
                        <p class="text-[10px] text-gray-500">Associação de Empreendedores de Londrina e Região</p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Download Button - Hidden on print -->
    <div class="no-print mt-6 text-center">
        <button id="download-btn" class="bg-red-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-red-700 transition-all shadow-lg transform hover:scale-105">
            Baixar Carteirinha para Impressão
        </button>
    </div>

    <script>
        document.getElementById('download-btn').addEventListener('click', function() {
            const printableCardElement = document.getElementById('printable-card');
            
            // Temporarily make the printable card visible to capture it
            printableCardElement.classList.remove('hidden');

            html2canvas(printableCardElement, {
                useCORS: true,
                scale: 3, // Aumenta a resolução da imagem para impressão
                backgroundColor: null // **CORREÇÃO APLICADA AQUI** para manter os cantos arredondados
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'carteirinha-asselm-impressao.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
                
                // Hide the printable card again after capture
                printableCardElement.classList.add('hidden');
            }).catch(err => {
                console.error("Ocorreu um erro ao gerar a imagem:", err);
                // Ensure it's hidden even if an error occurs
                printableCardElement.classList.add('hidden');
            });
        });
    </script>
</body>
</html>

